pipeline {
agent any
tools {
maven 'Maven 3.9.9'
jdk 'JDK 17'
}
stages {
stage('Checkout') {
steps {
git branch: 'master', url: 'https://github.com/KhaoulaEsi22/Ing-log.git'
}
}
stage('Build') {
steps {
sh 'mvn clean install'
}
}
stage('Test') {
steps {
sh 'mvn test'
}
}
}
post {
failure {
mail to: 'messaskhaoula@gmail.com',
subject: "Échec du build Jenkins",
body: "Le build a échoué sur la branche ${env.BRANCH_NAME}. Merci de vérifier le Jenkins job."
}
success {
echo "Build réussi sur la branche ${env.BRANCH_NAME}."
}
}
}

